baseline
[19:22:59] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[19:23:13] [Server-Worker-12/INFO]: Chunk Rebuild elapsed time per chunk for last 2000 chunks = 3,468,876ns
[19:23:13] [Server-Worker-12/INFO]: Time per fluid/block = 2,818ns  Count = 2,462,347  fluid:block ratio = 2:98
[19:23:13] [Server-Worker-12/INFO]:
[19:23:28] [main/INFO]: Canvas Renderer is initializing.
[19:23:28] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[19:23:42] [Server-Worker-14/INFO]: Chunk Rebuild elapsed time per chunk for last 2000 chunks = 3,554,385ns
[19:23:42] [Server-Worker-14/INFO]: Time per fluid/block = 2,887ns  Count = 2,462,347  fluid:block ratio = 2:98
[19:23:42] [Server-Worker-14/INFO]:
[19:23:46] [main/INFO]: Canvas Renderer is initializing.
[19:23:47] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[19:23:57] [Server-Worker-11/INFO]: Chunk Rebuild elapsed time per chunk for last 2000 chunks = 4,164,677ns
[19:23:57] [Server-Worker-11/INFO]: Time per fluid/block = 3,378ns  Count = 2,465,658  fluid:block ratio = 2:98
[19:23:57] [Server-Worker-11/INFO]:
[19:24:00] [main/INFO]: Canvas Renderer is initializing.
[19:24:00] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[19:24:10] [Server-Worker-14/INFO]: Chunk Rebuild elapsed time per chunk for last 2000 chunks = 3,719,115ns
[19:24:10] [Server-Worker-14/INFO]: Time per fluid/block = 3,012ns  Count = 2,469,231  fluid:block ratio = 2:98
[19:24:10] [Server-Worker-14/INFO]:
[19:24:16] [main/INFO]: Canvas Renderer is initializing.
[19:24:17] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[19:24:27] [Server-Worker-12/INFO]: Chunk Rebuild elapsed time per chunk for last 2000 chunks = 3,762,009ns
[19:24:27] [Server-Worker-12/INFO]: Time per fluid/block = 3,050ns  Count = 2,466,594  fluid:block ratio = 2:98
[19:24:27] [Server-Worker-12/INFO]:
[19:24:31] [main/INFO]: Canvas Renderer is initializing.
[19:24:31] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[19:24:41] [Server-Worker-7/INFO]: Chunk Rebuild elapsed time per chunk for last 2000 chunks = 5,267,714ns
[19:24:41] [Server-Worker-7/INFO]: Time per fluid/block = 4,266ns  Count = 2,469,435  fluid:block ratio = 2:98
[19:24:41] [Server-Worker-7/INFO]:
[19:24:51] [main/INFO]: Canvas Renderer is initializing.
[19:24:51] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[19:25:04] [Server-Worker-7/INFO]: Chunk Rebuild elapsed time per chunk for last 2000 chunks = 3,400,615ns
[19:25:04] [Server-Worker-7/INFO]: Time per fluid/block = 2,758ns  Count = 2,465,585  fluid:block ratio = 2:98
[19:25:04] [Server-Worker-7/INFO]:
[19:25:09] [main/INFO]: Canvas Renderer is initializing.
[19:25:09] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[19:25:19] [Server-Worker-14/INFO]: Chunk Rebuild elapsed time per chunk for last 2000 chunks = 3,627,974ns
[19:25:19] [Server-Worker-14/INFO]: Time per fluid/block = 2,944ns  Count = 2,464,511  fluid:block ratio = 2:98
[19:25:19] [Server-Worker-14/INFO]:

--------


[18:14:16] [main/INFO]: Canvas Renderer is initializing.
[18:14:16] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[18:14:45] [Server-Worker-6/INFO]: Chunk Rebuild elapsed time per chunk for last 2000 chunks = 3,319,198ns
[18:14:45] [Server-Worker-6/INFO]: Chunk Copy Stats: time this sample = 1.217s for 5,395 items @ 225,490ns each.
[18:14:45] [Server-Worker-6/INFO]: Time per fluid/block = 2,533ns  Count = 2,621,208  fluid:block ratio = 3:97
[18:14:45] [Server-Worker-6/INFO]:
[18:14:48] [main/INFO]: Canvas Renderer is initializing.
[18:14:48] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[18:15:18] [Server-Worker-5/INFO]: Chunk Rebuild elapsed time per chunk for last 2000 chunks = 3,249,550ns
[18:15:18] [Server-Worker-5/INFO]: Chunk Copy Stats: time this sample = 1.278s for 5,395 items @ 236,898ns each.
[18:15:18] [Server-Worker-5/INFO]: Time per fluid/block = 2,481ns  Count = 2,619,259  fluid:block ratio = 3:97
[18:15:18] [Server-Worker-5/INFO]:
[18:15:22] [main/INFO]: Canvas Renderer is initializing.
[18:15:22] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[18:15:52] [Server-Worker-5/INFO]: Chunk Rebuild elapsed time per chunk for last 2000 chunks = 3,287,839ns
[18:15:52] [Server-Worker-5/INFO]: Chunk Copy Stats: time this sample = 1.264s for 5,396 items @ 234,285ns each.
[18:15:52] [Server-Worker-5/INFO]: Time per fluid/block = 2,509ns  Count = 2,621,069  fluid:block ratio = 3:97


-------
remove multiplication in fast packed int array Copy

[18:26:52] [main/INFO]: Canvas Renderer is initializing.
[18:26:53] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[18:27:19] [Server-Worker-5/INFO]: Chunk Rebuild elapsed time per chunk for last 2000 chunks = 3,495,852ns
[18:27:19] [Server-Worker-5/INFO]: Chunk Copy Stats: time this sample = 1.034s for 5,396 items @ 191,535ns each.
[18:27:19] [Server-Worker-5/INFO]: Time per fluid/block = 2,672ns  Count = 2,616,754  fluid:block ratio = 3:97
[18:27:19] [Server-Worker-5/INFO]:
[18:27:33] [main/INFO]: Canvas Renderer is initializing.
[18:27:33] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[18:28:04] [Server-Worker-8/INFO]: Chunk Rebuild elapsed time per chunk for last 2000 chunks = 3,329,434ns
[18:28:04] [Server-Worker-8/INFO]: Chunk Copy Stats: time this sample = 1.011s for 5,179 items @ 195,297ns each.
[18:28:04] [Server-Worker-8/INFO]: Time per fluid/block = 2,535ns  Count = 2,627,240  fluid:block ratio = 3:97
[18:28:04] [Server-Worker-8/INFO]:
[18:28:09] [main/INFO]: Canvas Renderer is initializing.
[18:28:10] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[18:28:36] [Server-Worker-9/INFO]: Chunk Rebuild elapsed time per chunk for last 2000 chunks = 3,439,465ns
[18:28:36] [Server-Worker-9/INFO]: Chunk Copy Stats: time this sample = 1.032s for 5,180 items @ 199,297ns each.
[18:28:36] [Server-Worker-9/INFO]: Time per fluid/block = 2,617ns  Count = 2,628,281  fluid:block ratio = 3:97
[18:28:36] [Server-Worker-9/INFO]:

-------
avoid building empty chunks (avg per chunk time is thus higher)

[20:52:45] [main/INFO]: Canvas Renderer is initializing.
[20:52:46] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[20:52:58] [Server-Worker-15/INFO]: Chunk Rebuild elapsed time per chunk for last 2000 chunks = 18,239,838ns
[20:52:58] [Server-Worker-15/INFO]: Chunk Copy Stats: time this sample = 0.443s for 5,451 items @ 81,326ns each.
[20:52:58] [Server-Worker-15/INFO]: Time per fluid/block = 8,033ns  Count = 4,540,966  fluid:block ratio = 2:98
[20:52:58] [Server-Worker-15/INFO]:
[20:54:35] [main/INFO]: Canvas Renderer is initializing.
[20:54:35] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[20:54:47] [Server-Worker-22/INFO]: Chunk Rebuild elapsed time per chunk for last 2000 chunks = 17,383,528ns
[20:54:47] [Server-Worker-22/INFO]: Chunk Copy Stats: time this sample = 0.429s for 5,451 items @ 78,667ns each.
[20:54:47] [Server-Worker-22/INFO]: Time per fluid/block = 7,661ns  Count = 4,538,441  fluid:block ratio = 2:98
[20:54:47] [Server-Worker-22/INFO]:
[20:55:28] [main/INFO]: Canvas Renderer is initializing.
[20:55:29] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[20:55:41] [Server-Worker-26/INFO]: Chunk Rebuild elapsed time per chunk for last 2000 chunks = 17,362,281ns
[20:55:41] [Server-Worker-26/INFO]: Chunk Copy Stats: time this sample = 0.435s for 5,457 items @ 79,769ns each.
[20:55:41] [Server-Worker-26/INFO]: Time per fluid/block = 7,660ns  Count = 4,533,086  fluid:block ratio = 2:98

-----
finish edge state captures

[21:51:02] [main/INFO]: Canvas Renderer is initializing.
[21:51:02] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[21:51:13] [Server-Worker-9/INFO]: Chunk Rebuild elapsed time per chunk for last 2000 chunks = 6,671,960ns
[21:51:13] [Server-Worker-9/INFO]: Chunk Copy Stats: time this sample = 0.442s for 5,410 items @ 81,639ns each.
[21:51:13] [Server-Worker-9/INFO]: Time per fluid/block = 2,939ns  Count = 4,540,580  fluid:block ratio = 2:98
[21:51:13] [Server-Worker-9/INFO]:
[21:51:24] [main/INFO]: Canvas Renderer is initializing.
[21:51:24] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[21:51:35] [Server-Worker-6/INFO]: Chunk Rebuild elapsed time per chunk for last 2000 chunks = 6,568,584ns
[21:51:35] [Server-Worker-6/INFO]: Chunk Copy Stats: time this sample = 0.458s for 5,405 items @ 84,816ns each.
[21:51:35] [Server-Worker-6/INFO]: Time per fluid/block = 2,892ns  Count = 4,542,711  fluid:block ratio = 2:98
[21:51:35] [Server-Worker-6/INFO]:
[21:51:39] [main/INFO]: Canvas Renderer is initializing.
[21:51:40] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[21:51:50] [Server-Worker-11/INFO]: Chunk Rebuild elapsed time per chunk for last 2000 chunks = 6,688,737ns
[21:51:50] [Server-Worker-11/INFO]: Chunk Copy Stats: time this sample = 0.440s for 5,403 items @ 81,396ns each.
[21:51:50] [Server-Worker-11/INFO]: Time per fluid/block = 2,945ns  Count = 4,541,827  fluid:block ratio = 2:98
[21:51:50] [Server-Worker-11/INFO]:

-------
simplify state addressing

[19:48:19] [main/INFO]: Canvas Renderer is initializing.
[19:48:19] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[19:48:27] [Server-Worker-20/INFO]: Chunk Rebuild elapsed time per chunk for last 2000 chunks = 6,168,243ns
[19:48:27] [Server-Worker-20/INFO]: Chunk Copy Stats: time this sample = 0.295s for 5,532 items @ 53,355ns each.
[19:48:27] [Server-Worker-20/INFO]: Time per fluid/block = 2,747ns  Count = 4,491,446  fluid:block ratio = 2:98
[19:48:27] [Server-Worker-20/INFO]:
[19:48:31] [main/INFO]: Canvas Renderer is initializing.
[19:48:31] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[19:48:39] [Server-Worker-19/INFO]: Chunk Rebuild elapsed time per chunk for last 2000 chunks = 6,170,637ns
[19:48:39] [Server-Worker-19/INFO]: Chunk Copy Stats: time this sample = 0.295s for 5,532 items @ 53,285ns each.
[19:48:39] [Server-Worker-19/INFO]: Time per fluid/block = 2,748ns  Count = 4,490,730  fluid:block ratio = 2:98
[19:48:39] [Server-Worker-19/INFO]:
[19:48:44] [main/INFO]: Canvas Renderer is initializing.
[19:48:45] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[19:48:53] [Server-Worker-18/INFO]: Chunk Rebuild elapsed time per chunk for last 2000 chunks = 6,208,415ns
[19:48:53] [Server-Worker-18/INFO]: Chunk Copy Stats: time this sample = 0.292s for 5,536 items @ 52,720ns each.
[19:48:53] [Server-Worker-18/INFO]: Time per fluid/block = 2,768ns  Count = 4,485,541  fluid:block ratio = 2:98

--------

capture renderdata, add block entities outside of block iteration

[21:25:34] [main/INFO]: Canvas Renderer is initializing.
[21:25:34] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[21:25:43] [Server-Worker-11/INFO]: Chunk Rebuild elapsed time per chunk for last 2000 chunks = 5,981,896ns
[21:25:43] [Server-Worker-11/INFO]: Chunk Copy Stats: time this sample = 0.297s for 5,522 items @ 53,815ns each.
[21:25:43] [Server-Worker-11/INFO]: Time per fluid/block = 2,661ns  Count = 4,495,372  fluid:block ratio = 1:99
[21:25:43] [Server-Worker-11/INFO]:
[21:25:50] [main/INFO]: Canvas Renderer is initializing.
[21:25:50] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[21:25:59] [Server-Worker-11/INFO]: Chunk Rebuild elapsed time per chunk for last 2000 chunks = 5,949,445ns
[21:25:59] [Server-Worker-11/INFO]: Chunk Copy Stats: time this sample = 0.292s for 5,506 items @ 52,958ns each.
[21:25:59] [Server-Worker-11/INFO]: Time per fluid/block = 2,642ns  Count = 4,502,951  fluid:block ratio = 1:99
[21:25:59] [Server-Worker-11/INFO]:
[21:26:04] [main/INFO]: Canvas Renderer is initializing.
[21:26:04] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[21:26:13] [Server-Worker-11/INFO]: Chunk Rebuild elapsed time per chunk for last 2000 chunks = 5,972,238ns
[21:26:13] [Server-Worker-11/INFO]: Chunk Copy Stats: time this sample = 0.294s for 5,505 items @ 53,415ns each.
[21:26:13] [Server-Worker-11/INFO]: Time per fluid/block = 2,658ns  Count = 4,493,729  fluid:block ratio = 1:99

------
experiment with smaller central state array and map for edges

[08:18:31] [main/INFO]: Canvas Renderer is initializing.
[08:18:31] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[08:18:39] [Server-Worker-18/INFO]: Chunk Rebuild elapsed time per chunk for last 2000 chunks = 6,560,277ns
[08:18:39] [Server-Worker-18/INFO]: Chunk Copy Stats: time this sample = 0.365s for 7,122 items @ 51,179ns each.
[08:18:39] [Server-Worker-18/INFO]: Time per fluid/block = 3,174ns  Count = 4,133,776  fluid:block ratio = 1:99
[08:18:39] [Server-Worker-18/INFO]:
[08:18:42] [main/INFO]: Canvas Renderer is initializing.
[08:18:43] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[08:18:49] [Server-Worker-22/INFO]: Chunk Rebuild elapsed time per chunk for last 2000 chunks = 5,376,120ns
[08:18:49] [Server-Worker-22/INFO]: Chunk Copy Stats: time this sample = 0.367s for 7,217 items @ 50,824ns each.
[08:18:49] [Server-Worker-22/INFO]: Time per fluid/block = 2,587ns  Count = 4,156,279  fluid:block ratio = 1:99
[08:18:49] [Server-Worker-22/INFO]:
[08:18:55] [main/INFO]: Canvas Renderer is initializing.
[08:18:56] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[08:19:03] [Server-Worker-19/INFO]: Chunk Rebuild elapsed time per chunk for last 2000 chunks = 6,313,577ns
[08:19:03] [Server-Worker-19/INFO]: Chunk Copy Stats: time this sample = 0.388s for 7,159 items @ 54,130ns each.
[08:19:03] [Server-Worker-19/INFO]: Time per fluid/block = 3,054ns  Count = 4,135,135  fluid:block ratio = 1:99
[08:19:03] [Server-Worker-19/INFO]:

------
roll back experiment

[08:23:45] [main/INFO]: Canvas Renderer is initializing.
[08:23:46] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[08:23:53] [Server-Worker-5/INFO]: Chunk Rebuild elapsed time per chunk for last 2000 chunks = 5,531,005ns
[08:23:53] [Server-Worker-5/INFO]: Chunk Copy Stats: time this sample = 0.289s for 7,160 items @ 40,330ns each.
[08:23:53] [Server-Worker-5/INFO]: Time per fluid/block = 2,657ns  Count = 4,163,771  fluid:block ratio = 1:99
[08:23:53] [Server-Worker-5/INFO]:
[08:23:56] [main/INFO]: Canvas Renderer is initializing.
[08:23:57] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[08:24:04] [Server-Worker-8/INFO]: Chunk Rebuild elapsed time per chunk for last 2000 chunks = 5,776,646ns
[08:24:04] [Server-Worker-8/INFO]: Chunk Copy Stats: time this sample = 0.288s for 7,160 items @ 40,203ns each.
[08:24:04] [Server-Worker-8/INFO]: Time per fluid/block = 2,775ns  Count = 4,162,829  fluid:block ratio = 1:99
[08:24:04] [Server-Worker-8/INFO]:
[08:24:07] [main/INFO]: Canvas Renderer is initializing.
[08:24:08] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[08:24:15] [Server-Worker-3/INFO]: Chunk Rebuild elapsed time per chunk for last 2000 chunks = 5,608,722ns
[08:24:15] [Server-Worker-3/INFO]: Chunk Copy Stats: time this sample = 0.388s for 7,159 items @ 54,235ns each.
[08:24:15] [Server-Worker-3/INFO]: Time per fluid/block = 2,694ns  Count = 4,163,655  fluid:block ratio = 1:99
[08:24:15] [Server-Worker-3/INFO]:

-------
Start of fast occlusion

[10:40:46] [main/INFO]: Canvas Renderer is initializing.
[10:40:47] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[10:40:56] [Server-Worker-9/INFO]: Chunk Rebuild elapsed time per chunk for last 2000 chunks = 4,256,030ns
[10:40:56] [Server-Worker-9/INFO]: Chunk Copy Stats: time this sample = 0.320s for 6,391 items @ 50,131ns each.
[10:40:56] [Server-Worker-9/INFO]: Time per fluid/block = 1,896ns  Count = 4,490,487  fluid:block ratio = 1:99
[10:40:56] [Server-Worker-9/INFO]:
[10:41:10] [main/INFO]: Canvas Renderer is initializing.
[10:41:10] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[10:41:18] [Server-Worker-11/INFO]: Chunk Rebuild elapsed time per chunk for last 2000 chunks = 4,065,854ns
[10:41:18] [Server-Worker-11/INFO]: Chunk Copy Stats: time this sample = 0.301s for 6,239 items @ 48,307ns each.
[10:41:18] [Server-Worker-11/INFO]: Time per fluid/block = 1,830ns  Count = 4,444,399  fluid:block ratio = 1:99
[10:41:18] [Server-Worker-11/INFO]:
[10:41:23] [main/INFO]: Canvas Renderer is initializing.
[10:41:23] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[10:41:30] [Server-Worker-5/INFO]: Chunk Rebuild elapsed time per chunk for last 2000 chunks = 4,566,222ns
[10:41:30] [Server-Worker-5/INFO]: Chunk Copy Stats: time this sample = 0.358s for 6,397 items @ 55,969ns each.
[10:41:30] [Server-Worker-5/INFO]: Time per fluid/block = 2,035ns  Count = 4,488,470  fluid:block ratio = 1:99


------

block portion of build

[14:09:43] [Server-Worker-11/INFO]: Avg outer duration = 4,788,233 ns, total duration = 4,788, total runs = 1,000
[14:09:43] [Server-Worker-11/INFO]: Avg inner duration = 4,340 ns, total duration = 4,053, total runs = 933,945

tesselate block alone
[14:11:21] [Server-Worker-20/INFO]: Avg outer duration = 4,334,838 ns, total duration = 4,334, total runs = 1,000
[14:11:21] [Server-Worker-20/INFO]: Avg inner duration = 4,111 ns, total duration = 3,627, total runs = 882,270

[14:11:25] [Server-Worker-20/INFO]: Avg outer duration = 4,369,655 ns, total duration = 4,369, total runs = 1,000
[14:11:25] [Server-Worker-20/INFO]: Avg inner duration = 3,611 ns, total duration = 3,486, total runs = 965,196


emitBlockQuads
[14:22:36] [Server-Worker-14/INFO]: Avg outer duration = 5,225,480 ns, total duration = 5,225, total runs = 1,000
[14:22:36] [Server-Worker-14/INFO]: Avg inner duration = 4,592 ns, total duration = 4,222, total runs = 919,412

[14:22:41] [Server-Worker-19/INFO]: Avg outer duration = 4,805,674 ns, total duration = 4,805, total runs = 1,000
[14:22:41] [Server-Worker-19/INFO]: Avg inner duration = 3,987 ns, total duration = 3,812, total runs = 956,044

similar getColor implementation
[15:06:19] [Server-Worker-7/INFO]: Avg outer duration = 4,486,606 ns, total duration = 4,486, total runs = 1,000
[15:06:19] [Server-Worker-7/INFO]: Avg inner duration = 6,126 ns, total duration = 985, total runs = 160,818

[15:06:23] [Server-Worker-4/INFO]: Avg outer duration = 4,303,022 ns, total duration = 4,303, total runs = 1,000
[15:06:23] [Server-Worker-4/INFO]: Avg inner duration = 5,348 ns, total duration = 818, total runs = 153,106

[15:06:31] [Server-Worker-9/INFO]: Avg outer duration = 4,170,246 ns, total duration = 4,170, total runs = 1,000
[15:06:31] [Server-Worker-9/INFO]: Avg inner duration = 6,103 ns, total duration = 859, total runs = 140,881

with ChunkColorCache
[08:24:27] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[08:24:30] [Server-Worker-13/INFO]: Avg outer duration = 3,538,536 ns, total duration = 3,538, total runs = 1,000
[08:24:30] [Server-Worker-13/INFO]: Avg inner duration = 977 ns, total duration = 183, total runs = 187,401

[08:24:33] [Server-Worker-12/INFO]: Avg outer duration = 3,480,352 ns, total duration = 3,480, total runs = 1,000
[08:24:33] [Server-Worker-12/INFO]: Avg inner duration = 1,094 ns, total duration = 171, total runs = 156,189

[08:24:37] [Server-Worker-10/INFO]: Avg outer duration = 3,069,597 ns, total duration = 3,069, total runs = 1,000
[08:24:37] [Server-Worker-10/INFO]: Avg inner duration = 736 ns, total duration = 142, total runs = 193,627

AO pre optimization
[08:29:17] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[08:29:20] [Server-Worker-4/INFO]: Avg outer duration = 3,535,612 ns, total duration = 3,535, total runs = 1,000
[08:29:20] [Server-Worker-4/INFO]: Avg inner duration = 1,116 ns, total duration = 1,030, total runs = 922,955

[08:29:23] [Server-Worker-4/INFO]: Avg outer duration = 3,467,761 ns, total duration = 3,467, total runs = 1,000
[08:29:23] [Server-Worker-4/INFO]: Avg inner duration = 1,149 ns, total duration = 875, total runs = 761,428

[08:29:28] [Server-Worker-8/INFO]: Avg outer duration = 4,129,500 ns, total duration = 4,129, total runs = 1,000
[08:29:28] [Server-Worker-8/INFO]: Avg inner duration = 1,332 ns, total duration = 1,078, total runs = 809,337

Bring in Canvas AO calc. Hmmm....

[08:55:48] [main/INFO]: Canvas Renderer is initializing.
[08:55:48] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[08:55:51] [Server-Worker-8/INFO]: Avg outer duration = 4,639,336 ns, total duration = 4,639, total runs = 1,000
[08:55:51] [Server-Worker-8/INFO]: Avg inner duration = 2,548 ns, total duration = 1,973, total runs = 774,304

[08:55:54] [Server-Worker-3/INFO]: Avg outer duration = 4,515,039 ns, total duration = 4,515, total runs = 1,000
[08:55:54] [Server-Worker-3/INFO]: Avg inner duration = 2,282 ns, total duration = 1,985, total runs = 869,822

[08:55:58] [Server-Worker-3/INFO]: Avg outer duration = 3,978,104 ns, total duration = 3,978, total runs = 1,000
[08:55:58] [Server-Worker-3/INFO]: Avg inner duration = 2,083 ns, total duration = 1,404, total runs = 674,072


Space-efficient block state cache

[13:56:54] [main/INFO]: Canvas Renderer is initializing.
[13:56:54] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[13:56:55] [Server-Worker-30/INFO]: Avg outer duration = 4,736,499 ns, total duration = 4,736, total runs = 1,000
[13:56:55] [Server-Worker-30/INFO]: Avg inner duration = 2,231 ns, total duration = 1,931, total runs = 865,498

[13:56:58] [Server-Worker-36/INFO]: Avg outer duration = 4,797,472 ns, total duration = 4,797, total runs = 1,000
[13:56:58] [Server-Worker-36/INFO]: Avg inner duration = 2,120 ns, total duration = 2,013, total runs = 949,840

[13:57:03] [Server-Worker-36/INFO]: Avg outer duration = 4,612,049 ns, total duration = 4,612, total runs = 1,000
[13:57:03] [Server-Worker-36/INFO]: Avg inner duration = 2,144 ns, total duration = 1,488, total runs = 693,897


Direct addressing for ao and brightness cache

[14:16:33] [main/INFO]: Canvas Renderer is initializing.
[14:16:33] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[14:16:34] [Server-Worker-1/INFO]: Avg outer duration = 4,106,304 ns, total duration = 4,106, total runs = 1,000
[14:16:34] [Server-Worker-1/INFO]: Avg inner duration = 1,927 ns, total duration = 1,290, total runs = 669,707

[14:16:37] [Server-Worker-6/INFO]: Avg outer duration = 4,766,078 ns, total duration = 4,766, total runs = 1,000
[14:16:37] [Server-Worker-6/INFO]: Avg inner duration = 1,916 ns, total duration = 1,934, total runs = 1,009,551

[14:16:41] [Server-Worker-1/INFO]: Avg outer duration = 3,778,918 ns, total duration = 3,778, total runs = 1,000
[14:16:41] [Server-Worker-1/INFO]: Avg inner duration = 1,784 ns, total duration = 1,097, total runs = 615,387

[14:16:48] [Server-Worker-9/INFO]: Avg outer duration = 4,546,082 ns, total duration = 4,546, total runs = 1,000
[14:16:48] [Server-Worker-9/INFO]: Avg inner duration = 2,195 ns, total duration = 1,399, total runs = 637,446


Clear blend cache for new blocks (fix defect, causes more calc with lots of snow)

[14:54:29] [main/INFO]: Canvas Renderer is initializing.
[14:54:30] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[14:54:32] [Server-Worker-4/INFO]: Avg outer duration = 4,901,131 ns, total duration = 4,901, total runs = 1,000
[14:54:32] [Server-Worker-4/INFO]: Avg inner duration = 3,227 ns, total duration = 2,165, total runs = 671,086

[14:54:34] [Server-Worker-10/INFO]: Avg outer duration = 5,260,305 ns, total duration = 5,260, total runs = 1,000
[14:54:34] [Server-Worker-10/INFO]: Avg inner duration = 2,828 ns, total duration = 2,468, total runs = 872,731

[14:54:38] [Server-Worker-8/INFO]: Avg outer duration = 4,517,738 ns, total duration = 4,517, total runs = 1,000
[14:54:38] [Server-Worker-8/INFO]: Avg inner duration = 2,763 ns, total duration = 1,777, total runs = 643,037


Use main chunk opacity cache

[16:38:26] [main/INFO]: Canvas Renderer is initializing.
[16:38:27] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[16:38:28] [Server-Worker-8/INFO]: Avg outer duration = 3,925,910 ns, total duration = 3,925, total runs = 1,000
[16:38:28] [Server-Worker-8/INFO]: Avg inner duration = 1,915 ns, total duration = 1,425, total runs = 744,006

[16:38:31] [Server-Worker-5/INFO]: Avg outer duration = 4,175,011 ns, total duration = 4,175, total runs = 1,000
[16:38:31] [Server-Worker-5/INFO]: Avg inner duration = 1,686 ns, total duration = 1,383, total runs = 820,203

[16:38:35] [Server-Worker-3/INFO]: Avg outer duration = 4,358,138 ns, total duration = 4,358, total runs = 1,000
[16:38:35] [Server-Worker-3/INFO]: Avg inner duration = 1,895 ns, total duration = 1,202, total runs = 634,483


Split out proto-regions

[18:03:13] [main/INFO]: Canvas Renderer is initializing.
[18:03:14] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[18:03:16] [Server-Worker-12/INFO]: Avg outer duration = 4,274,651 ns, total duration = 4,274, total runs = 1,000
[18:03:16] [Server-Worker-12/INFO]: Avg inner duration = 2,232 ns, total duration = 1,577, total runs = 706,318

[18:03:19] [Server-Worker-9/INFO]: Avg outer duration = 4,623,399 ns, total duration = 4,623, total runs = 1,000
[18:03:19] [Server-Worker-9/INFO]: Avg inner duration = 2,209 ns, total duration = 1,878, total runs = 850,251

[18:03:23] [Server-Worker-14/INFO]: Avg outer duration = 4,064,661 ns, total duration = 4,064, total runs = 1,000
[18:03:23] [Server-Worker-14/INFO]: Avg inner duration = 2,119 ns, total duration = 1,285, total runs = 606,351

Start moving opacity to render region

[06:47:41] [main/INFO]: Canvas Renderer is initializing.
[06:47:41] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[06:47:44] [Server-Worker-24/INFO]: Avg outer duration = 3,839,872 ns, total duration = 3,839, total runs = 1,000
[06:47:44] [Server-Worker-24/INFO]: Avg inner duration = 1,737 ns, total duration = 1,260, total runs = 725,275

[06:47:47] [Server-Worker-22/INFO]: Avg outer duration = 4,431,084 ns, total duration = 4,431, total runs = 1,000
[06:47:47] [Server-Worker-22/INFO]: Avg inner duration = 1,757 ns, total duration = 1,601, total runs = 910,811

[06:47:51] [Server-Worker-22/INFO]: Avg outer duration = 3,523,940 ns, total duration = 3,523, total runs = 1,000
[06:47:51] [Server-Worker-22/INFO]: Avg inner duration = 1,548 ns, total duration = 877, total runs = 566,373


Finish moving occlusion to render region
[08:29:01] [main/INFO]: Canvas Renderer is initializing.
[08:29:02] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[08:29:04] [Server-Worker-9/INFO]: Avg outer duration = 3,685,275 ns, total duration = 3,685, total runs = 1,000
[08:29:04] [Server-Worker-9/INFO]: Avg inner duration = 2,680 ns, total duration = 1,689, total runs = 630,431

[08:29:06] [Server-Worker-9/INFO]: Avg outer duration = 4,435,118 ns, total duration = 4,435, total runs = 1,000
[08:29:06] [Server-Worker-9/INFO]: Avg inner duration = 2,379 ns, total duration = 2,118, total runs = 890,432

[08:29:10] [Server-Worker-5/INFO]: Avg outer duration = 3,085,599 ns, total duration = 3,085, total runs = 1,000
[08:29:10] [Server-Worker-5/INFO]: Avg inner duration = 1,995 ns, total duration = 1,175, total runs = 588,974

[08:29:51] [Server-Worker-10/INFO]: Avg outer duration = 3,344,268 ns, total duration = 3,344, total runs = 1,000
[08:29:51] [Server-Worker-10/INFO]: Avg inner duration = 1,873 ns, total duration = 1,368, total runs = 730,444

[08:30:03] [Server-Worker-10/INFO]: Avg outer duration = 3,077,583 ns, total duration = 3,077, total runs = 1,000
[08:30:03] [Server-Worker-10/INFO]: Avg inner duration = 1,819 ns, total duration = 1,202, total runs = 661,099

[08:30:28] [Server-Worker-13/INFO]: Avg outer duration = 3,738,371 ns, total duration = 3,738, total runs = 1,000
[08:30:28] [Server-Worker-13/INFO]: Avg inner duration = 1,916 ns, total duration = 1,594, total runs = 831,885


Finish interior occlusion, Reduce cache address overhead

[06:48:56] [main/INFO]: Canvas Renderer is initializing.
[06:48:56] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[06:48:57] [Server-Worker-3/INFO]: Avg outer duration = 2,939,462 ns, total duration = 2,939, total runs = 1,000
[06:48:57] [Server-Worker-3/INFO]: Avg inner duration = 1,741 ns, total duration = 1,169, total runs = 671,457

[06:48:59] [Server-Worker-5/INFO]: Avg outer duration = 2,630,660 ns, total duration = 2,630, total runs = 1,000
[06:48:59] [Server-Worker-5/INFO]: Avg inner duration = 1,327 ns, total duration = 1,011, total runs = 761,708

[06:49:03] [Server-Worker-3/INFO]: Avg outer duration = 2,805,817 ns, total duration = 2,805, total runs = 1,000
[06:49:03] [Server-Worker-3/INFO]: Avg inner duration = 1,834 ns, total duration = 969, total runs = 528,735

Make AoCalc non-pooled

[07:26:21] [main/INFO]: Canvas Renderer is initializing.
[07:26:21] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[07:26:24] [Server-Worker-2/INFO]: Avg outer duration = 2,428,692 ns, total duration = 2,428, total runs = 1,000
[07:26:24] [Server-Worker-2/INFO]: Avg inner duration = 902 ns, total duration = 599, total runs = 663,735

[07:26:26] [Server-Worker-11/INFO]: Avg outer duration = 2,677,551 ns, total duration = 2,677, total runs = 1,000
[07:26:26] [Server-Worker-11/INFO]: Avg inner duration = 852 ns, total duration = 657, total runs = 771,261

[07:26:30] [Server-Worker-6/INFO]: Avg outer duration = 2,151,441 ns, total duration = 2,151, total runs = 1,000
[07:26:30] [Server-Worker-6/INFO]: Avg inner duration = 861 ns, total duration = 455, total runs = 529,396


Baseline terrainSetup

[07:32:44] [main/INFO]: Canvas Renderer is initializing.
[07:32:45] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[07:32:49] [main/INFO]: Avg setupTerrain duration = 9,467,979 ns, total duration = 1,893, total runs = 200
[07:32:58] [main/INFO]: Avg setupTerrain duration = 12,628,127 ns, total duration = 2,525, total runs = 200
[07:33:00] [main/INFO]: Canvas Renderer is initializing.
[07:33:01] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[07:33:05] [main/INFO]: Avg setupTerrain duration = 9,248,210 ns, total duration = 1,849, total runs = 200
[07:33:14] [main/INFO]: Avg setupTerrain duration = 12,873,393 ns, total duration = 2,574, total runs = 200
[07:33:15] [main/INFO]: Canvas Renderer is initializing.
[07:33:17] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[07:33:21] [main/INFO]: Avg setupTerrain duration = 9,342,812 ns, total duration = 1,868, total runs = 200
[07:33:31] [main/INFO]: Avg setupTerrain duration = 12,759,066 ns, total duration = 2,551, total runs = 200


with minor cleanup

[07:38:39] [main/INFO]: Canvas Renderer is initializing.
[07:38:40] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[07:38:45] [main/INFO]: Avg setupTerrain duration = 9,103,957 ns, total duration = 1,820, total runs = 200
[07:38:55] [main/INFO]: Avg setupTerrain duration = 13,063,980 ns, total duration = 2,612, total runs = 200
[07:38:55] [main/INFO]: Canvas Renderer is initializing.
[07:38:57] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[07:39:01] [main/INFO]: Avg setupTerrain duration = 8,920,602 ns, total duration = 1,784, total runs = 200
[07:39:11] [main/INFO]: Avg setupTerrain duration = 13,249,497 ns, total duration = 2,649, total runs = 200
[07:39:12] [main/INFO]: Canvas Renderer is initializing.
[07:39:13] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[07:39:18] [main/INFO]: Avg setupTerrain duration = 9,344,257 ns, total duration = 1,868, total runs = 200
[07:39:27] [main/INFO]: Avg setupTerrain duration = 12,890,355 ns, total duration = 2,578, total runs = 200

optimize out-of-world visiblity sort

[12:19:00] [main/INFO]: Canvas Renderer is initializing.
[12:19:01] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[12:19:06] [main/INFO]: Avg setupTerrain duration = 8,512,660 ns, total duration = 1,702, total runs = 200
[12:19:15] [main/INFO]: Avg setupTerrain duration = 11,472,467 ns, total duration = 2,294, total runs = 200
[12:19:16] [main/INFO]: Canvas Renderer is initializing.
[12:19:17] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[12:19:22] [main/INFO]: Avg setupTerrain duration = 7,584,738 ns, total duration = 1,516, total runs = 200
[12:19:31] [main/INFO]: Avg setupTerrain duration = 11,182,056 ns, total duration = 2,236, total runs = 200
[12:19:31] [main/INFO]: Canvas Renderer is initializing.
[12:19:32] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[12:19:37] [main/INFO]: Avg setupTerrain duration = 8,032,978 ns, total duration = 1,606, total runs = 200
[12:19:46] [main/INFO]: Avg setupTerrain duration = 11,370,818 ns, total duration = 2,274, total runs = 200

Small refactor, add temporary inner timing

[12:45:48] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[12:45:52] [main/INFO]: Avg setupTerrain duration = 8,684,446 ns, total duration = 1,736, total runs = 200
[12:45:52] [main/INFO]: Avg inner duration = 7,325,090 ns, total duration = 1,465, total runs = 200
[12:46:01] [main/INFO]: Avg setupTerrain duration = 11,145,704 ns, total duration = 2,229, total runs = 200
[12:46:01] [main/INFO]: Avg inner duration = 9,472,563 ns, total duration = 1,894, total runs = 200
[12:46:05] [main/INFO]: Canvas Renderer is initializing.
[12:46:06] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[12:46:09] [main/INFO]: Avg setupTerrain duration = 8,272,359 ns, total duration = 1,654, total runs = 200
[12:46:09] [main/INFO]: Avg inner duration = 60,208,958 ns, total duration = 12,041, total runs = 200
[12:46:18] [main/INFO]: Avg setupTerrain duration = 10,675,672 ns, total duration = 2,135, total runs = 200
[12:46:18] [main/INFO]: Avg inner duration = 9,330,307 ns, total duration = 1,866, total runs = 200
[12:46:20] [main/INFO]: Canvas Renderer is initializing.
[12:46:22] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[12:46:25] [main/INFO]: Avg setupTerrain duration = 8,374,876 ns, total duration = 1,674, total runs = 200
[12:46:25] [main/INFO]: Avg inner duration = 6,976,828 ns, total duration = 1,395, total runs = 200


Optimize test order

[15:29:43] [main/INFO]: Canvas Renderer is initializing.
[15:29:44] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[15:29:49] [main/INFO]: Avg setupTerrain duration = 6,761,214 ns, total duration = 1,352, total runs = 200
[15:29:49] [main/INFO]: Avg inner duration = 5,389,305 ns, total duration = 1,077, total runs = 200
[15:29:59] [main/INFO]: Avg setupTerrain duration = 9,923,747 ns, total duration = 1,984, total runs = 200
[15:29:59] [main/INFO]: Avg inner duration = 8,373,958 ns, total duration = 1,674, total runs = 200
[15:29:59] [main/INFO]: Canvas Renderer is initializing.
[15:30:01] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[15:30:05] [main/INFO]: Avg setupTerrain duration = 7,128,745 ns, total duration = 1,425, total runs = 200
[15:30:05] [main/INFO]: Avg inner duration = 5,763,855 ns, total duration = 1,152, total runs = 200
[15:30:14] [main/INFO]: Avg setupTerrain duration = 8,933,513 ns, total duration = 1,786, total runs = 200
[15:30:14] [main/INFO]: Avg inner duration = 7,463,174 ns, total duration = 1,492, total runs = 200
[15:30:15] [main/INFO]: Canvas Renderer is initializing.
[15:30:16] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[15:30:21] [main/INFO]: Avg setupTerrain duration = 7,124,412 ns, total duration = 1,424, total runs = 200
[15:30:21] [main/INFO]: Avg inner duration = 5,686,443 ns, total duration = 1,137, total runs = 200
[15:30:30] [main/INFO]: Avg setupTerrain duration = 9,786,969 ns, total duration = 1,957, total runs = 200
[15:30:30] [main/INFO]: Avg inner duration = 8,108,295 ns, total duration = 1,621, total runs = 200

cost of getAdjacentChunk

[15:45:12] [main/INFO]: Avg setupTerrain duration = 26,619,243 ns, total duration = 5,323, total runs = 200
[15:45:12] [main/INFO]: Avg inner duration = 221 ns, total duration = 1,290, total runs = 5,835,678
[15:45:25] [main/INFO]: Avg setupTerrain duration = 32,844,706 ns, total duration = 6,568, total runs = 200
[15:45:25] [main/INFO]: Avg inner duration = 177 ns, total duration = 1,538, total runs = 8,658,330
[15:45:39] [main/INFO]: Avg setupTerrain duration = 30,404,667 ns, total duration = 6,080, total runs = 200
[15:45:39] [main/INFO]: Avg inner duration = 139 ns, total duration = 1,597, total runs = 11,454,288

minor numerical optimizations

[08:17:36] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[08:17:37] [main/INFO]: Avg setupTerrain duration = 18,845,988 ns, total duration = 3,769, total runs = 200
[08:17:37] [main/INFO]: Avg inner duration = 94 ns, total duration = 1,253, total runs = 13,226,766
[08:17:44] [main/INFO]: Avg setupTerrain duration = 14,632,957 ns, total duration = 2,926, total runs = 200
[08:17:44] [main/INFO]: Avg inner duration = 105 ns, total duration = 981, total runs = 9,329,088
[08:17:55] [main/INFO]: Avg setupTerrain duration = 20,037,469 ns, total duration = 4,007, total runs = 200
[08:17:55] [main/INFO]: Avg inner duration = 100 ns, total duration = 1,357, total runs = 13,540,950

cache/use neighbor indices instead of positions

[09:06:43] [main/INFO]: Avg setupTerrain duration = 14,666,537 ns, total duration = 2,933, total runs = 200
[09:06:43] [main/INFO]: Avg inner duration = 68 ns, total duration = 704, total runs = 10,296,300
[09:06:51] [main/INFO]: Avg setupTerrain duration = 15,917,309 ns, total duration = 3,183, total runs = 200
[09:06:51] [main/INFO]: Avg inner duration = 69 ns, total duration = 799, total runs = 11,525,988
[09:07:05] [main/INFO]: Avg setupTerrain duration = 19,599,766 ns, total duration = 3,919, total runs = 200
[09:07:05] [main/INFO]: Avg inner duration = 63 ns, total duration = 946, total runs = 14,939,082
[09:07:15] [main/INFO]: Avg setupTerrain duration = 4,278,695 ns, total duration = 855, total runs = 200
[09:07:15] [main/INFO]: Avg inner duration = 71 ns, total duration = 186, total runs = 2,600,574

reduce indirection on built chunk neighbor lookup

[09:20:55] [main/INFO]: Avg setupTerrain duration = 23,705,441 ns, total duration = 4,741, total runs = 200
[09:20:55] [main/INFO]: Avg inner duration = 65 ns, total duration = 975, total runs = 14,872,950
[09:21:02] [main/INFO]: Avg setupTerrain duration = 12,922,206 ns, total duration = 2,584, total runs = 200
[09:21:02] [main/INFO]: Avg inner duration = 65 ns, total duration = 596, total runs = 9,094,558
[09:21:13] [main/INFO]: Avg setupTerrain duration = 18,626,279 ns, total duration = 3,725, total runs = 200
[09:21:13] [main/INFO]: Avg inner duration = 65 ns, total duration = 884, total runs = 13,548,312

baseline shouldBuild check

[18:03:39] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[18:03:43] [main/INFO]: Avg setupTerrain duration = 6,751,303 ns, total duration = 1,350, total runs = 200
[18:03:43] [main/INFO]: Avg inner duration = 316 ns, total duration = 476, total runs = 1,503,604
[18:03:50] [main/INFO]: Avg setupTerrain duration = 8,440,928 ns, total duration = 1,688, total runs = 200
[18:03:50] [main/INFO]: Avg inner duration = 296 ns, total duration = 584, total runs = 1,973,332
[18:04:00] [main/INFO]: Avg setupTerrain duration = 10,452,146 ns, total duration = 2,090, total runs = 200
[18:04:00] [main/INFO]: Avg inner duration = 294 ns, total duration = 730, total runs = 2,482,726

some code optimization - minor effect

[05:37:18] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[05:37:21] [main/INFO]: Avg setupTerrain duration = 6,657,134 ns, total duration = 1,331, total runs = 200
[05:37:21] [main/INFO]: Avg inner duration = 286 ns, total duration = 447, total runs = 1,560,045
[05:37:28] [main/INFO]: Avg setupTerrain duration = 7,963,705 ns, total duration = 1,592, total runs = 200
[05:37:28] [main/INFO]: Avg inner duration = 274 ns, total duration = 537, total runs = 1,957,777
[05:37:38] [main/INFO]: Avg setupTerrain duration = 10,034,648 ns, total duration = 2,006, total runs = 200
[05:37:38] [main/INFO]: Avg inner duration = 276 ns, total duration = 686, total runs = 2,482,188


baseline before new buffer / draw code

[13:54:54] [main/INFO]: [CHAT] [Debug]: Reloading all chunks
[13:54:55] [Canvas Render Thread - 5/INFO]: Rebuild elapsed time per region for last 2000 chunks = 2,811,030ns
[13:54:55] [Canvas Render Thread - 5/INFO]: World copy time per chunk for last 12142 regions = 17,791ns
[13:54:55] [Canvas Render Thread - 5/INFO]: Upload time per region for last 22031 regions = 137,236ns
[13:54:55] [Canvas Render Thread - 5/INFO]:
[13:54:57] [Canvas Render Thread - 3/INFO]: Rebuild elapsed time per region for last 2000 chunks = 2,740,983ns
[13:54:57] [Canvas Render Thread - 3/INFO]: World copy time per chunk for last 4107 regions = 56,074ns
[13:54:57] [Canvas Render Thread - 3/INFO]: Upload time per region for last 24045 regions = 140,942ns
[13:54:57] [Canvas Render Thread - 3/INFO]:
[13:54:58] [Canvas Render Thread - 6/INFO]: Rebuild elapsed time per region for last 2000 chunks = 2,988,030ns
[13:54:58] [Canvas Render Thread - 6/INFO]: World copy time per chunk for last 3048 regions = 100,360ns
[13:54:58] [Canvas Render Thread - 6/INFO]: Upload time per region for last 26051 regions = 144,606ns
[13:54:58] [Canvas Render Thread - 6/INFO]:
[13:55:01] [Canvas Render Thread - 1/INFO]: Rebuild elapsed time per region for last 2000 chunks = 2,962,926ns
[13:55:01] [Canvas Render Thread - 1/INFO]: World copy time per chunk for last 2156 regions = 93,380ns
[13:55:01] [Canvas Render Thread - 1/INFO]: Upload time per region for last 28046 regions = 146,241ns

12-14 fps  allocated 62%



inner = draw call alone outer = render_solid/translucent

[08:15:55] [main/INFO]: Avg outer duration = 24,352,242 ns, total duration = 4,870, total runs = 200
[08:15:55] [main/INFO]: Avg inner duration = 2,865 ns, total duration = 2,660, total runs = 928,397

[08:16:00] [main/INFO]: Avg outer duration = 24,373,351 ns, total duration = 4,874, total runs = 200
[08:16:00] [main/INFO]: Avg inner duration = 2,885 ns, total duration = 2,678, total runs = 928,242

[08:16:06] [main/INFO]: Avg outer duration = 24,346,441 ns, total duration = 4,869, total runs = 200
[08:16:06] [main/INFO]: Avg inner duration = 2,899 ns, total duration = 2,691, total runs = 928,200

[08:16:12] [main/INFO]: Avg outer duration = 24,420,227 ns, total duration = 4,884, total runs = 200
[08:16:12] [main/INFO]: Avg inner duration = 2,894 ns, total duration = 2,686, total runs = 928,268

[08:16:17] [main/INFO]: Avg outer duration = 24,352,504 ns, total duration = 4,870, total runs = 200
[08:16:17] [main/INFO]: Avg inner duration = 2,901 ns, total duration = 2,693, total runs = 928,300

-----

[06:49:09] [main/INFO]: Avg outer duration = 23,925,518 ns, total duration = 4,785, total runs = 200
[06:49:09] [main/INFO]: [STDOUT]: Avg inner runs per frame = 8987
[06:49:09] [main/INFO]: [STDOUT]: Inner elapsed is 55% of outer
[06:49:09] [main/INFO]: [STDOUT]: Visible chunk count = 4526
[06:49:09] [main/INFO]: [STDOUT]: lastSolidCount = 8110   lastTranlsucentCount = 877
[06:49:09] [main/INFO]: Avg inner duration = 2,967 ns, total duration = 2,667, total runs = 898,700

[06:49:14] [main/INFO]: Avg outer duration = 23,842,271 ns, total duration = 4,768, total runs = 200
[06:49:14] [main/INFO]: [STDOUT]: Avg inner runs per frame = 8987
[06:49:14] [main/INFO]: [STDOUT]: Inner elapsed is 55% of outer
[06:49:14] [main/INFO]: [STDOUT]: Visible chunk count = 4526
[06:49:14] [main/INFO]: [STDOUT]: lastSolidCount = 8110   lastTranlsucentCount = 877
[06:49:14] [main/INFO]: Avg inner duration = 2,960 ns, total duration = 2,660, total runs = 898,700

[06:49:19] [main/INFO]: Avg outer duration = 23,118,360 ns, total duration = 4,623, total runs = 200
[06:49:19] [main/INFO]: [STDOUT]: Avg inner runs per frame = 8987
[06:49:19] [main/INFO]: [STDOUT]: Inner elapsed is 55% of outer
[06:49:19] [main/INFO]: [STDOUT]: Visible chunk count = 4526
[06:49:19] [main/INFO]: [STDOUT]: lastSolidCount = 8110   lastTranlsucentCount = 877
[06:49:19] [main/INFO]: Avg inner duration = 2,867 ns, total duration = 2,576, total runs = 898,700

[06:49:25] [main/INFO]: Avg outer duration = 22,707,750 ns, total duration = 4,541, total runs = 200
[06:49:25] [main/INFO]: [STDOUT]: Avg inner runs per frame = 8987
[06:49:25] [main/INFO]: [STDOUT]: Inner elapsed is 55% of outer
[06:49:25] [main/INFO]: [STDOUT]: Visible chunk count = 4526
[06:49:25] [main/INFO]: [STDOUT]: lastSolidCount = 8110   lastTranlsucentCount = 877
[06:49:25] [main/INFO]: Avg inner duration = 2,822 ns, total duration = 2,536, total runs = 898,700

--- test tri Baseline

[09:33:39] [main/INFO]: Avg outer duration = 71,249,725 ns, total duration = 14,249, total runs = 200
[09:33:39] [main/INFO]: [STDOUT]: Avg inner runs per frame = 169038
[09:33:39] [main/INFO]: [STDOUT]: Inner elapsed is 21% of outer
[09:33:39] [main/INFO]: [STDOUT]: Visible chunk count = 383
[09:33:39] [main/INFO]: [STDOUT]: lastSolidCount = 807   lastTranlsucentCount = 42
[09:33:39] [main/INFO]: Avg inner duration = 176 ns, total duration = 2,988, total runs = 16,903,814

[09:33:55] [main/INFO]: Avg outer duration = 76,523,844 ns, total duration = 15,304, total runs = 200
[09:33:55] [main/INFO]: [STDOUT]: Avg inner runs per frame = 167708
[09:33:55] [main/INFO]: [STDOUT]: Inner elapsed is 20% of outer
[09:33:55] [main/INFO]: [STDOUT]: Visible chunk count = 425
[09:33:55] [main/INFO]: [STDOUT]: lastSolidCount = 897   lastTranlsucentCount = 45
[09:33:55] [main/INFO]: Avg inner duration = 186 ns, total duration = 3,123, total runs = 16,770,802

[09:34:11] [main/INFO]: Avg outer duration = 77,641,515 ns, total duration = 15,528, total runs = 200
[09:34:11] [main/INFO]: [STDOUT]: Avg inner runs per frame = 166457
[09:34:11] [main/INFO]: [STDOUT]: Inner elapsed is 19% of outer
[09:34:11] [main/INFO]: [STDOUT]: Visible chunk count = 459
[09:34:11] [main/INFO]: [STDOUT]: lastSolidCount = 978   lastTranlsucentCount = 46
[09:34:11] [main/INFO]: Avg inner duration = 185 ns, total duration = 3,086, total runs = 16,645,796

-- bin tri pixel structure but not logic - as expected, little difference

[14:49:20] [main/INFO]: Avg outer duration = 75,268,964 ns, total duration = 15,053, total runs = 200
[14:49:20] [main/INFO]: [STDOUT]: Avg inner runs per frame = 160679
[14:49:20] [main/INFO]: [STDOUT]: Inner elapsed is 18% of outer
[14:49:20] [main/INFO]: [STDOUT]: Visible chunk count = 493
[14:49:20] [main/INFO]: [STDOUT]: lastSolidCount = 1053   lastTranlsucentCount = 64
[14:49:20] [main/INFO]: Avg inner duration = 168 ns, total duration = 2,711, total runs = 16,067,934

[14:49:35] [main/INFO]: Avg outer duration = 75,552,361 ns, total duration = 15,110, total runs = 200
[14:49:35] [main/INFO]: [STDOUT]: Avg inner runs per frame = 159649
[14:49:35] [main/INFO]: [STDOUT]: Inner elapsed is 17% of outer
[14:49:35] [main/INFO]: [STDOUT]: Visible chunk count = 504
[14:49:35] [main/INFO]: [STDOUT]: lastSolidCount = 1075   lastTranlsucentCount = 65
[14:49:35] [main/INFO]: Avg inner duration = 169 ns, total duration = 2,704, total runs = 15,964,915

[14:49:50] [main/INFO]: Avg outer duration = 75,604,592 ns, total duration = 15,120, total runs = 200
[14:49:50] [main/INFO]: [STDOUT]: Avg inner runs per frame = 158714
[14:49:50] [main/INFO]: [STDOUT]: Inner elapsed is 17% of outer
[14:49:50] [main/INFO]: [STDOUT]: Visible chunk count = 515
[14:49:50] [main/INFO]: [STDOUT]: lastSolidCount = 1097   lastTranlsucentCount = 67
[14:49:50] [main/INFO]: Avg inner duration = 169 ns, total duration = 2,685, total runs = 15,871,405

-- isChunkVisible after non-hierarchical frustum optimizations

[09:23:00] [main/INFO]: Avg outer duration = 30,532,423 ns, total duration = 6,106, total runs = 200
[09:23:00] [main/INFO]: [STDOUT]: Avg inner runs per frame = 31985
[09:23:00] [main/INFO]: [STDOUT]: Inner elapsed is 41% of outer
[09:23:00] [main/INFO]: [STDOUT]: Visible chunk count = 613
[09:23:00] [main/INFO]: [STDOUT]: lastSolidCount = 1346   lastTranlsucentCount = 64
[09:23:00] [main/INFO]: Avg inner duration = 797 ns, total duration = 2,550, total runs = 3,198,553

[09:23:06] [main/INFO]: Avg outer duration = 30,678,859 ns, total duration = 6,135, total runs = 200
[09:23:06] [main/INFO]: [STDOUT]: Avg inner runs per frame = 33781
[09:23:06] [main/INFO]: [STDOUT]: Inner elapsed is 44% of outer
[09:23:06] [main/INFO]: [STDOUT]: Visible chunk count = 412
[09:23:06] [main/INFO]: [STDOUT]: lastSolidCount = 675   lastTranlsucentCount = 25
[09:23:06] [main/INFO]: Avg inner duration = 807 ns, total duration = 2,728, total runs = 3,378,196

[09:23:13] [main/INFO]: Avg outer duration = 31,304,621 ns, total duration = 6,260, total runs = 200
[09:23:13] [main/INFO]: [STDOUT]: Avg inner runs per frame = 34765
[09:23:13] [main/INFO]: [STDOUT]: Inner elapsed is 44% of outer
[09:23:13] [main/INFO]: [STDOUT]: Visible chunk count = 107
[09:23:13] [main/INFO]: [STDOUT]: lastSolidCount = 122   lastTranlsucentCount = 6
[09:23:13] [main/INFO]: Avg inner duration = 791 ns, total duration = 2,750, total runs = 3,476,596
